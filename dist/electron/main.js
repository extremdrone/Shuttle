module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a){a.exports=require('electron')},function(a){a.exports=require('path')},function(a,b,c){'use strict';function d(){l=new f.BrowserWindow({minHeight:800,minWidth:1e3,show:!1,titleBarStyle:'hiddenInset',title:'Shuttle'}),l.loadURL(m),l.maximize(),l.show();var a=e(f.app),b=f.Menu.buildFromTemplate(a);f.Menu.setApplicationMenu(b),l.on('closed',function(){l=null})}function e(a){var b=[{label:'File',submenu:[]},{label:'Edit',submenu:[{role:'undo'},{role:'redo'},{type:'separator'},{role:'cut'},{role:'copy'},{role:'paste'},{role:'pasteandmatchstyle'},{role:'delete'},{role:'selectall'}]},{label:'View',submenu:[{role:'reload'},{role:'forcereload'},{role:'toggledevtools'},{type:'separator'},{role:'resetzoom'},{role:'zoomin'},{role:'zoomout'},{type:'separator'},{role:'togglefullscreen'}]},{role:'window',submenu:[{role:'minimize'},{role:'close'}]},{role:'help',submenu:[{label:'Learn More',click:function(){c(0).shell.openExternal('https://electronjs.org')}}]}];return'darwin'===process.platform&&(b.unshift({label:a.getName(),submenu:[{role:'about'},{type:'separator'},{role:'services',submenu:[]},{type:'separator'},{role:'hide'},{role:'hideothers'},{role:'unhide'},{type:'separator'},{role:'quit'}]}),b[1].submenu.push({type:'separator'},{label:'Speech',submenu:[{role:'startspeaking'},{role:'stopspeaking'}]}),b[3].submenu=[{role:'close'},{role:'minimize'},{role:'zoom'},{type:'separator'},{role:'front'}]),b}Object.defineProperty(b,'__esModule',{value:!0});var f=c(0),g=c.n(f),h=c(3),i=c.n(h),j=c(4),k={};k.projects=new j({filename:f.app.getPath('userData')+'/projects.db',autoload:!0,timestampData:!0}),k.currentProject=new j({filename:f.app.getPath('userData')+'/currentProject.db',autoload:!0,timestampData:!0}),global.__static=c(1).join(__dirname,'/static').replace(/\\/g,'\\\\');var l,m='file://'+__dirname+'/index.html';f.app.on('ready',d),f.app.on('window-all-closed',function(){'darwin'!==process.platform&&f.app.quit()}),f.app.on('activate',function(){null===l&&d()}),h.autoUpdater.on('update-downloaded',function(){h.autoUpdater.quitAndInstall()}),f.app.on('ready',function(){h.autoUpdater.checkForUpdates()});var n=c(0),o=n.ipcMain,p=n.dialog;o.on('save-dialog-new-project',function(a){p.showSaveDialog({title:'Create Shuttle Project',filters:[{name:'CreateShuttle',extensions:['shuttle']}]},function(b){a.sender.send('saved-file-new-project',b)})}),o.on('open-dialog-project',function(a){p.showOpenDialog({properties:['openFile','openDirectory']},function(b){b&&a.sender.send('selected-directory',b)})}),o.on('open-error-dialog-creating-project-file',function(a,b){p.showErrorBox('Error Creating Shuttle','There was an error creating the shuttle file. '+b)}),o.on('getCurrentProjectPathFromDB',function(a){k.currentProject.find({currentProject:{$exists:!0}},function(b,c){b?a.sender.send('sendCurrentProjectErrorFromDB',b):a.sender.send('sendCurrentProjectFromDB',c)})}),o.on('setCurrentProjectPathOnDB',function(a,b){var c={currentProject:{projectPath:b.path,name:b.name}};k.currentProject.remove({},{multi:!0},function(b,d){b?(a.sender.send('sendSettingCurrentProjectErrorFromDB',b),console.log(b)):(console.log('DEBUG: Removed '+d+' Projects from memory'),k.currentProject.insert(c,function(b,c){b?(console.log(b),a.sender.send('sendSettingCurrentProjectErrorFromDB',b)):(console.log(c),a.sender.send('sendDidSetCurrentProjectFromDB',c))}))})});var q;o.on('openProjectSettings',function(){var a=c(1).join(m+'/#/settings');q=new f.BrowserWindow({width:600,height:600,minHeight:600,minWidth:600,titleBarStyle:'hidden-inset',center:!0,alwaysOnTop:!0,title:'Project Settings',parent:l,modal:!0}),q.on('close',function(){q=null}),q.loadURL(a),q.show()}),o.on('closeProjectSettings',function(){q.close()}),o.on('openExportCodeFinder',function(a){p.showOpenDialog({title:'Export Shuttle Source Code',properties:['openDirectory','createDirectory','promptToCreate'],buttonLabel:'Export Here'},function(b){a.sender.send('savedExportCodePath',b)})})},function(a){a.exports=require('electron-updater')},function(a){a.exports=require('nedb')}]);
module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a){a.exports=require('electron')},function(a){a.exports=require('path')},function(a,b,c){'use strict';function d(){k=new e.BrowserWindow({minHeight:800,minWidth:1e3,show:!1,titleBarStyle:'hidden-inset',title:'Shuttle'}),k.loadURL(l),k.maximize(),k.show(),k.on('closed',function(){k=null})}Object.defineProperty(b,'__esModule',{value:!0});var e=c(0),f=c.n(e),g=c(3),h=c.n(g),i=c(4),j={};j.projects=new i({filename:e.app.getPath('userData')+'/projects.db',autoload:!0,timestampData:!0}),j.currentProject=new i({filename:e.app.getPath('userData')+'/currentProject.db',autoload:!0,timestampData:!0}),global.__static=c(1).join(__dirname,'/static').replace(/\\/g,'\\\\');var k,l='file://'+__dirname+'/index.html';e.app.on('ready',d),e.app.on('window-all-closed',function(){'darwin'!==process.platform&&e.app.quit()}),e.app.on('activate',function(){null===k&&d()}),g.autoUpdater.on('update-downloaded',function(){g.autoUpdater.quitAndInstall()}),e.app.on('ready',function(){g.autoUpdater.checkForUpdates()});var m=c(0),n=m.ipcMain,o=m.dialog;n.on('save-dialog-new-project',function(a){o.showSaveDialog({title:'Create Shuttle Project',filters:[{name:'CreateShuttle',extensions:['shuttle']}]},function(b){a.sender.send('saved-file-new-project',b)})}),n.on('open-dialog-project',function(a){o.showOpenDialog({properties:['openFile','openDirectory']},function(b){b&&a.sender.send('selected-directory',b)})}),n.on('open-error-dialog-creating-project-file',function(a,b){o.showErrorBox('Error Creating Shuttle','There was an error creating the shuttle file. '+b)}),n.on('getCurrentProjectPathFromDB',function(a){j.currentProject.find({currentProject:{$exists:!0}},function(b,c){b?a.sender.send('sendCurrentProjectErrorFromDB',b):a.sender.send('sendCurrentProjectFromDB',c)})}),n.on('setCurrentProjectPathOnDB',function(a,b){var c={currentProject:{projectPath:b.path,name:b.name}};j.currentProject.remove({},{multi:!0},function(b,d){b?(a.sender.send('sendSettingCurrentProjectErrorFromDB',b),console.log(b)):(console.log('DEBUG: Removed '+d+' Projects from memory'),j.currentProject.insert(c,function(b,c){b?(console.log(b),a.sender.send('sendSettingCurrentProjectErrorFromDB',b)):(console.log(c),a.sender.send('sendDidSetCurrentProjectFromDB',c))}))})});var p;n.on('openProjectSettings',function(){var a=c(1).join(l+'/#/settings');p=new e.BrowserWindow({width:600,height:600,minHeight:600,minWidth:600,titleBarStyle:'hidden-inset',center:!0,alwaysOnTop:!0,title:'Project Settings',parent:k,modal:!0}),p.on('close',function(){p=null}),p.loadURL(a),p.show()}),n.on('closeProjectSettings',function(){p.close()}),n.on('openExportCodeFinder',function(a){o.showOpenDialog({title:'Export Shuttle Source Code',properties:['openDirectory','createDirectory','promptToCreate'],buttonLabel:'Export Here'},function(b){a.sender.send('savedExportCodePath',b)})})},function(a){a.exports=require('electron-updater')},function(a){a.exports=require('nedb')}]);